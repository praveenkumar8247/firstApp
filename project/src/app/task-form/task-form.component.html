<form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="title">Title</label>
    <input id="title" formControlName="title" class="form-control" />
    <div *ngIf="title?.invalid && title?.touched" class="error-message">
      <small *ngIf="title?.hasError('required')">Title is required.</small>
      <small *ngIf="title?.hasError('maxlength')"
        >Title cannot exceed 50 characters.</small
      >
    </div>
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea
      id="description"
      formControlName="description"
      class="form-control"
    ></textarea>
    <div
      *ngIf="description?.invalid && description?.touched"
      class="error-message"
    >
      <small *ngIf="description?.hasError('required')"
        >Description is required.</small
      >
      <small *ngIf="description?.hasError('maxlength')"
        >Description cannot exceed 200 characters.</small
      >
    </div>
  </div>

  <div class="form-group">
    <label for="dueDate">Due Date</label>
    <input
      type="date"
      id="dueDate"
      formControlName="dueDate"
      class="form-control"
    />
    <div *ngIf="dueDate?.invalid && dueDate?.touched" class="error-message">
      <small *ngIf="dueDate?.hasError('required')">Due date is required.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="status">Status</label>
    <select id="status" formControlName="status" class="form-control">
      <option *ngFor="let status of statuses" [value]="status">
        {{ status }}
      </option>
    </select>
    <div *ngIf="status?.invalid && status?.touched" class="error-message">
      <small *ngIf="status?.hasError('required')">Status is required.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="priority">Priority</label>
    <select id="priority" formControlName="priority" class="form-control">
      <option *ngFor="let priority of priorities" [value]="priority">
        {{ priority }}
      </option>
    </select>
    <div *ngIf="priority?.invalid && priority?.touched" class="error-message">
      <small *ngIf="priority?.hasError('required')"
        >Priority is required.</small
      >
    </div>
  </div>

  <div class="form-buttons">
    <button type="submit" [disabled]="taskForm.invalid" class="btn btn-primary">
      {{ task ? "Edit Task" : "Submit" }}
    </button>
    <button type="button" (click)="onCancel()" class="btn btn-secondary">
      Cancel
    </button>
  </div>
</form>
